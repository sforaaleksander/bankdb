# bankdb
In this project we designed bank database, and created application to generate sql script with random data.
Then we filled the database with millions of random rows, and played with it. We wrote triggers, functions,
procedures, indexes, and materialized view in PLpgSQL to automate some tasks, and to optimize some queries performance.

## Getting Started

### Prerequisites

* Maven 3.6
* Java 14
* PostgreSQL 12.5

### Executing program
To create sql script with random data:
1. You can change final variables in collectGeneratedInsertsToFile method in https://github.com/sforaaleksander/bankdb/blob/master/src/main/java/com/codecool/bank_db/file_handlers/FileWriter.java to control how much data to generate.
2. Run App in Intellij, or
create jar with
`mvn install`
and run it
`java -jar /path/jar_name.jar`

file named db_populate.sql will be created in project root directory

To set up database:
1. Create new database in postgres.
2. Run https://github.com/sforaaleksander/bankdb/blob/master/sql/db_setup.sql to create tables.
3. Run sql script generated by the application (db_populate.sql) to insert data.
4. Run the rest of scripts are in sql directory. You can check performance of materialized view before, and after creating indexes.
